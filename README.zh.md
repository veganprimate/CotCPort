# CotCPort
## **LANGUAGE:**  [English](README.md) | [日本語](README.jp.md) | [中文](README.zh.md) | [한국어](README.kr.md)
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="50%">
      <img alt="1" src="https://github.com/user-attachments/assets/7de018fd-65fc-4fac-8da9-d877c3d1b3bf" width="100%" />
    </td>
    <td width="50%">
      <img alt="2" src="https://github.com/user-attachments/assets/35bbf069-f2ce-4ed9-b6d5-be0ec8975fa6" width="100%" />
    </td>
  </tr>
  <tr>
    <td width="50%">
      <img alt="3" src="https://github.com/user-attachments/assets/f52aab44-c6e9-41e2-8a5d-9e8ad82a9007" width="100%" />
    </td>
    <td width="50%">
      <img alt="4" src="https://github.com/user-attachments/assets/6370561a-3653-4dcb-a0e5-2ab82f787b1e" width="100%" />
    </td>
  </tr>
  <tr>
    <td colspan="2">
      <img alt="5" src="https://github.com/user-attachments/assets/b0943896-d810-4fbd-bf78-f6a7568541e0" width="100%" />
    </td>
  </tr>
</table>


这是一个面向 **Octopath Traveler 0** 的 MOD，目标是尽可能多地移植**《歧路旅人：大陆的霸者》**（全球版／日版／中文版）中的内容，未来也可能移植其他歧路旅人系列作品的内容。
- 可使用《大陆的霸者》中的 **270+ 名旅人**，并完整移植其**技能盘**（包含 **8 名自制新增旅人**：学者诺摩斯、弗拉、皮耶罗、弗利特、雨果、基梅尔，以及来自《八方旅人》的马提亚斯和米格尔）
- 在**怪物竞技场**中与来自《大陆的霸者》的**数百名新增 Boss** 交战
- 通过在怪物竞技场击败新增敌人，解锁数十种来自《大陆的霸者》的**新饰品**与**装备**
- 游玩来自《大陆的霸者》的多个**新增任务**，包括角色的**旅人故事**

本 MOD 目前支持以下语言：
- **英语**
- **日语**
- **韩语**
- **中文（简体）**
- **中文（繁体）**

![chargif](https://github.com/user-attachments/assets/00c35b82-3e9c-4810-8d8b-657f2c2a1151)

## 安装
请在 **Releases** 中下载一个文件名以 `notex` 结尾的 pak、`texture` pak，以及 `RecruitEvent_p.pak`。`notex` 包含 **DataBase 文件**；`texture` 包含从《大陆的霸者》移植的**贴图与模型**；`RecruitEvent_p.pak` 则是一个用于为所有新增的 270+ 名旅人添加**招募事件**的 MOD（详见[如何招募新增的旅人](https://github.com/veganprimate/CotCPort/blob/main/README.zh.md#%E5%A6%82%E4%BD%95%E6%8B%9B%E5%8B%9F%E6%96%B0%E5%A2%9E%E7%9A%84%E6%97%85%E4%BA%BA)）。该 MOD 在招募完所有新增角色后可以移除。

随后，将这些文件放入游戏的 **Paks** 文件夹。具体路径取决于你的 **Octopath Traveler 0** 版本与安装方式。

### Steam
将三个 pak 放入 `steamapps\common\Octopath_Traveler0\Octopath_Traveler0\Content\Paks`。

### Microsoft Store
1. 将所有 pak 的后缀 `_p` 改为 `_P`
2. 在 PC 上打开 **Xbox App**，在左侧栏的已安装游戏列表中右键 **Octopath Traveler 0**，选择**管理**
3. 点击**文件**选项卡
4. 点击**浏览**
5. 将 pak 文件放入 `<game install folder>\Octopath_Traveler0\Content\Paks\`

### Switch（实机／Atmosphère）
将 pak 放入 `<SD Card>\atmosphere\Contents\01005270232F2000\romfs\Octopath_Traveler0\Content\Paks`

### Switch（模拟器）
按如下目录结构创建一个 MOD：`romfs/Octopath_Traveler0/Content/Paks`，并将三个 pak 放入 Paks 文件夹中。

## （可选）困难模式版本
由于本 MOD 会修改 `EnemyID` 等多个资产（asset），因此会与任何同样修改这些资产的 MOD 不兼容。为方便想要将两者结合使用的玩家，我们制作了本 MOD 的困难模式版本（文件名带 `_hard` 后缀）。改动如下（标有 **(WIP)** 的项目尚未完全实现或尚未实现）：
- **普通敌人**的 HP 变为 **2 倍**，**Boss** 的 HP 变为 **3 倍**
- 普通敌人的各项属性（物攻、物防、属攻、属防、速度、命中、暴击、暴击防御以及最大护盾数）提高 **25%**，Boss 对应属性提高 **50%**
- 击败 Boss 获得的经验值、JP 与金钱提高 **20%**
- 为避免软锁（soft-lock），对个别敌人进行了单独调整（假欧尔贝克、维舒贝尔 第5章 翡翠巨狼、枢机卿特拉格拉夫）
- **(WIP)** 对个别**敌人与 Boss** 的**属性、技能与战术（AI）**进行了调整（目前主要影响**授予一切之人**系列 Boss 以及若干拥有资源消耗技能的遭遇战）
- **(WIP)** 新增**极低概率的精英怪遭遇**，使狩猎猫灵族更加危险，同时为增加稀有敌人遭遇率的饰品和支援技能赋予一种"副作用"。这些遭遇战难以逃跑且会更猛烈地消耗资源，但存在明确的攻略方式（特定异常状态或武器弱点）
- **(WIP)** 对**可操作角色**的**技能与技能组**进行调整：仅影响部分技能的 SP 消耗、`Parry`（格挡）的使用次数限制，以及将（强力的）全体回复技能暂时改为延迟技能
- **(WIP)** 对个别异常状态的行为进行调整（使用物理攻击后解除物理闪避状态、使用魔法攻击后解除属性闪避状态，以鼓励更加专精的玩法；切换前后排时解除某些效果）
- 为应对敌人伤害的提升，同时鼓励更频繁地替换队员以及使用武器／魔法属性抗性增益，所有可操作角色（包括本 MOD 新增角色）均被赋予了**武器与魔法属性专项抗性率**。_（注：引用数组中的数值代表该武器／魔法属性造成的伤害百分比，因此数值越高→受到伤害越多，数值越低→受到伤害越少）_。本系统灵感来源于 **SaGa（沙加）** 系列：
  - **物理抗性率**（`m_ResistWeapon`）：沙加系列更关注**大类别**的物理属性（斩／突／打／射……），而非单个武器品类。由于 OT0 将武器分为 8 种，因此我们将 3 种沙加式物理属性投射到 OT0 的武器分类上来设定数值：
    - _偏**斩**属性_：剑／斧／扇／短剑（略微）
    - _偏**突**属性_：枪／短剑／弓
    - _偏**打**属性_：杖／本／斧（极略微）

     随后根据每个角色隐含的 END/VIT（耐力）与 AGI（敏捷）倾向以及职业（决定武器适性）对数值进行微调：
      - **高 END/VIT 的"坦克"型** → 斩／打数值较低（抗性更好）；突有时较弱（护甲间隙／关节的概念）
      - **高 AGI 的"闪避"型** → 突／远程（弓／短剑／枪）数值较低（抗性更好），但打往往较高（难以闪避的冲击）
      - **脆弱的施法者／辅助型** → 物理整体较高（抗性较差），尤其是突（"被抓住就很痛"）
      - 通常对自身**擅长的武器类型**有略微抗性（数值偏低）；对**"对立"武器类型**（即对立物理属性类型的武器）略弱（数值偏高）
  - **魔法抗性率**（`m_ResistMagic`）：魔法抗性数值主要基于隐含的 WIL/SPR/MND 类属性设定，再结合**属性适性／弱点**（虽然每代沙加的实现方式不同，但主要参考了《浪漫沙加2》的魔法属性分类：热／冷／电／暗／状态）以及角色的**魔法适性**（由技能组决定）来调整：
      - **高 WIL／信仰型／牧师型** → 全属性数值较低（抗性更好），对光属性往往很强而对暗属性较弱（暗系／邪术型角色如马提亚斯则相反）
      - **高 INT 的法师型** → 物理上未必坚韧，但可能在特定属性上拥有选择性的高抗性（适性），而在其他属性上有显著弱点
      - `m_ResistMagic` 数组的第 7 个槽位（可能对应**毒**或**无属性**魔法伤害）通常被当作毒／异常状态抗性（偏 END/WIL）处理：体质健壮／医疗型角色数值较低；脆弱／暗系／盗贼型角色数值往往较高
  - **(WIP)** 未来若可行，将为**敌人**和**装备**赋予类似的**抗性率**。目标是使**破盾（Break）**变得更加稀少，**需要更多事先规划**才能实现，同时为玩家提供其他可以利用的弱点。这也有望**鼓励**使用**其他击晕途径**（例如附魔、麻痹、睡眠，可能还有沉默、恐惧、失明）和／或组建更专精的队伍来准备破盾
  - **(WIP)** **类似沙加 LP 的阵亡惩罚**（消耗压力）：复活后附加持续到战斗结束的"负伤"状态，降低最大 HP／防御等
  - **(WIP)** 战斗中的**道具使用次数限制**（可能降至每场战斗最多 7 次），以鼓励更合理的资源管理以及技能与助战者（Helper）的使用（助战者名额可能会增加）。目前仅对特定道具设置了单独的使用次数限制
  - **(WIP)** 新增料理，提供更**专精的预战增益**（例如：武器／魔法属性专项攻击或抗性增益、特定异常状态、附带代价的效果等）
  - **(WIP)** 敌人和 Boss 获得更多**"快速行动"／优先行动**，使行动顺序操控和速度增益更加重要
  - **(WIP)** **反套路措施**：敌人和 Boss 获得更多**条件触发拦截**与**反击**增益，以**阻止重复单调的打法**，且其技能将被分配更**专精的目标类型**
  - **(WIP)** 对**迷宫设计**进行轻微调整，可能加入陷阱宝箱
  - **(WIP)** 增加**装备的代价与取舍**，同时增加更**专精的正面效果**（例如：拥有优秀抗性率的（重型）盾牌会降低速度和闪避，整体更强调轻装与重装的差异……）
  - **(WIP)** 为抑制全体回复：使**单体**回复法术更**强力**（满增幅时附带被动增益等），并赋予敌人**惩罚全体回复的战术**（如果 OT0 存在可以检测"是否使用了某特定技能"的条件类型 ID，则可以实现）
  - **(WIP)** **提高**最容易被滥用的消耗品的**价格**，以鼓励使用替代品如（新增的）料理和新道具。同时也可能加入**便宜但用途狭窄／专精**的新道具
  - **(WIP)** **异常状态**最终将成为战斗的**核心支柱**：例如异常状态叠加后效果增强（失明 I：-30% → 失明 II：-50%）、Boss 和遭遇战围绕异常状态进行设计（如《浪漫沙加2》前期中致盲和击晕特定敌人对于生存至关重要）、部分 Boss 拥有对毒的固有弱点（即毒可以削减护盾）、普通技能附带低概率异常状态。原版 OT0 的战斗体系更侧重于增益／减益
  - **(WIP)** **反异常状态滥发**：为使异常状态实用但避免无脑刷，计划减少 Boss 对异常状态的**完全免疫**项／提高其施加概率，但**每次成功施加后，Boss 对相应异常状态的抗性会提升**一定百分比（大约 10–30%，取决于 Boss）。游戏中存在检查异常状态是否已被施加的条件类型 ID，且 `SkillAvailID` 拥有 `m_ResistAilment` 和 `m_ResistAilmentID` 键，因此完全可以实现
  - **(WIP)** **反 BP 囤积**：为更多 Boss 添加针对队伍中高增幅点（BP）角色的技能（此类目标类型已存在），并可能加入阻止 0 BP 角色恢复 BP 的战术，以鼓励减少浪费性的 BP 使用
  - **(WIP)** **反增益／减益过度叠加**：使更多 Boss 检测己方队伍身上的增益以及 Boss 自身的减益。注意：并非让敌人直接移除这些增益／减益，而是以自身的行动来回应（吸取 SP、尝试致盲拥有物理增益的角色等）。不应让玩家感觉敌人在精确读取输入，同时显然应存在缓解这些反击的方式，只是需要更多事前规划
  - **(WIP)** 对**奥义**和 **EX 技能**施加（更严格的）使用次数限制（可能也包括_部分_**满增幅**技能）。可能还有**疲劳机制**（例如：使用后对自身施加减益）以鼓励规划这些技能的使用时机／防止无脑连发
  - **(WIP)** **延迟与打断**：使 Boss 战围绕延迟／倒计时机制运作，并赋予角色和 Boss **打断工具**：Boss 针对处于倒计时效果中的角色，可能增加倒计时／进一步延迟行动、击晕等。作为结果，除了（强力的）全体回复之外，更多技能也将被改为延迟技能
  - **(WIP)** 更多**遭遇战原型**，针对破盾、多段打击套件、异常状态施加等进行专项设计，使普通战斗在不单纯膨胀 HP 和其他属性的情况下变得更加危险



## 如何招募新增的旅人
未来，角色各自的旅人故事将作为其招募事件。目前仅移植了普罗梅（Promme）的旅人故事。

当前请按照以下步骤操作：

<img width="1286" height="726" alt="12" src="https://github.com/user-attachments/assets/f06205a2-5c30-4a8f-8718-5ee69d84db95" />

1. 确保 `RecruitEvent_p.pak` 已放入你的 Paks 文件夹中
2. 与恩波格洛（Emberglow）的长弓大师对话（见上图）。对话后会触发一个事件，招募本 MOD 中新增的所有可操作角色

当新版本更新引入新角色时，只要 `RecruitEvent_p.pak` 在你的 Paks 文件夹中，再次与同一 NPC 对话即可招募新角色。此操作不会重置已招募旅人的进度或装备。

## 贡献
欢迎任何人参与本项目。除 pak 文件外，本仓库还包含大量文档：详细说明本 MOD 各部分的工作原理、**Octopath Traveler 0** 的通用 MOD 制作资料，以及尚待完成的任务列表（附有对可行推进路径的简要讨论）。

以下是尚未从**《大陆的霸者》**移植的功能列表。每一项链接到本仓库中说明其当前进度的 markdown 文件：
- [~~任务与事件~~（已解决）](QuestEvent_Prog_zh.md)
- [特效与动画](Animations_Prog_zh.md)
- [物件（Objects）](Objects_Prog_zh.md)
- [地图／区域／关卡](Maps_Prog_zh.md)
- [音效与音乐](Sound_Prog_zh.md)
- [从《大陆的霸者》移植全新的系统／功能与代码](Custom_Prog_zh.md)

总体而言，这项工作包括：尽可能从基于 UE 4.27 的《歧路旅人：大陆的霸者》资产中提取数据，利用这些数据为 Octopath Traveler 0 制作新的 Unreal Engine 5.4 资产，并确保本 MOD 能正确加载这些资产——因为目前不存在将已烹饪（cooked）的 UE 4.27 资产通用地转换为 UE 5.4 的方法。

### 基于 CotCPort 制作的 MOD
如上所述，你可以自由地以本 MOD 为基础制作自己的 MOD，但请链接到本页面，以便将 **CotCPort** 相关的 bug 反馈集中在同一处。pak 会按文件名的字母顺序覆盖文件，因此只需相应调整你的 MOD 文件名，就能确保它在 **CotCPort** 之后加载。

### 教程与资源
以下是本 MOD 的**教程与资源**列表，方便你利用从《大陆的霸者》移植的数据制作自己的 MOD。
- [如何从本 MOD 和／或 OT0 提取资产并重新打包](Begin_zh.md)
- [如何添加或修改角色、职业以及主角的新自定义选项](customchars_zh.md)
- [如何添加或修改敌人和战斗](customenms_zh.md)
- [如何添加或修改任务与事件（WIP）](customqsts_zh.md)
- [如何添加或修改技能、异常状态与 avail（WIP）](customskls_zh.md)

## 联系方式
你可以在 **BravelyPath Modular Discord** 的 **#cotc-characters-mod** 频道联系到我（也有多位贡献者与 MOD 作者在该频道活动）：  
https://discord.com/invite/t43Kbrp 

## 致谢
感谢以下人员的帮助与贡献：
- **BoltGSR** 和 **MarvinCx886**：提供了《大陆的霸者》日版的数据
- **Oersted**：提供了《大陆的霸者》中文版的数据，以及完整的技能表、精灵图（spritesheets）和自制角色的创意
- **Vat**：提供了角色与敌人的扩展精灵图，并将大量贴图进行了烹饪处理（cooking），使其在游戏内显示得清晰锐利
- **Solo Traveler**：协助测试了大量功能，提出了困难模式版本的设计思路，并提供了一场自定义竞技场战斗的详细描述
- **igoticecream**：为 Octopath Traveler 0 生成了 SDK，在开发过程中被频繁参考
- **MarvinCx886**：探明了如何正确实现自定义事件
- **MarvinCx886** 和 **JohnZ**：研究出了从《大陆的霸者》移植声音数据的方法，并撰写了详尽的说明文档
