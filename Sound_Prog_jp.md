## **LANGUAGE:**  [English](Sound_Prog_en.md) | [日本語](Sound_Prog_jp.md) | [中文](Sound_Prog_zh.md) | [한국어](Sound_Prog_kr.md)
このワークフローを発見した MarvinCx886 氏、そして以下に英語ガイドを書いてくれた Zy 氏に感謝します：
https://github.com/zhangyucn2/Octopath-traveller-audio-replacement-tutorial

本記事が、このワークフローの背景理解に役立てば幸いです。

### 『オクトパストラベラー0』の音声がどのように構成されているか（推測）
CRIWARE ベースの Unreal プロジェクトでは、音声は通常、次の要素で構成されます：
- `.acb`：キューシートのデータベース（キュー名、キューID、メタデータ、ルーティング等）
- `.awb`：ウェーブバンク（実際のエンコード済み音声データ本体）
- CRIWARE UE プラグインで、エディタに `.acb` をインポートした際に作成される UE 側の「ラッパーアセット」（`.acb`/`.awb` を参照する `.uasset` ファイル）

実行時には、ゲームは多くの場合、以下のいずれかのパターンで音声を再生します：
- キュー名 → キューID → `.awb` 内の波形
- キューID を直接指定
- 特定のキューシート内でキュー名を指定

Sound 関連の DataBase ファイルを改変することで、新しいサウンドをインポートし、OT0 が使用している同一の識別子／マッピング体系に統合できるかどうかは、（私の知る限り）現時点では不明です。以下では `Sound/` 配下の各 DataBase ファイルについて説明します。

### `SoundSheetList`
上記ガイドの手順で（CRIWARE プラグインを用いて `.acb` をインポートすることで）作成される、CRI Atom の CueSheet ラッパーアセット（UE の `.uasset`）のレジストリが含まれているように見えます。新しいキューシート（新しい `.acb` インポート）を追加しても、OT0 が必ずそれを使うとは限りません。OT0 が使う条件は（推測ですが）次のいずれかでしょう：
- そのキューシートがこのリストに入っている、または
- 何らかのコードがパス指定で直接ロードしている。

`m_InitialLoad` は、起動時のプリロード挙動を示唆しています。

### `SoundList`
ゲーム側が参照する「サウンドカタログ」です。ゲームプレイ側は「`bgm_theme_scholar` を再生する」（またはサウンドID 1を再生する）のように要求し、実行時にはそれが次の情報へ解決されます：
- どのシートを使うか（`m_Sheet` が `SoundSheetList.m_id` を参照）
- 再生制約（ループ、同時再生の最大数、優先度）
- フェードイン／フェードアウト

つまり、サウンドラベルおよび／またはサウンドIDが、ゲームが使用している API です。そして `.acb` に新しいキューを追加したとしても、対応する `SoundList` エントリが存在し、かつゲームがそれを呼び出さない限り、そのキューが再生されることはありません。

### `ReplaceSoundList` と `ReplaceBGMList`
これらは OT0 固有のものです。クエスト条件の達成状況、または特定の敵グループとの戦闘といった条件に応じて、サウンド／BGM を置き換えます。

### `VoiceSymbolList`
ゲームのスクリプト／データ側で使われる「ボイスシンボル文字列」を、コンパクトな整数IDへマッピングしているように見えます。

### `PartVoiceID`
ボイスのカテゴリ／「サブタイプ」。

### `ConvPersonalityVoiceID`
おそらく、ゼロで選択できる6種類のボイスを指しています。

### `VoiceEffectID`
バスルーティング／DSP 制御（例：CRI のバス（BUS4 など）を選択し、音量／LPF／リバーブ送信等のパラメータを設定する）。

### `GramophoneList`
どの Sound ID がどの「楽譜」アイテムに対応するかを記録します。
